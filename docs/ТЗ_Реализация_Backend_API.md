ТЗ — Реализация Backend API
1. Цель

Создать серверную часть приложения, обеспечивающую приём, обработку и выдачу данных, необходимых для работы системы генерации 3D-моделей. API должно быть безопасным, масштабируемым и интегрированным с ML-сервисом генерации.

2. Функциональные требования
2.1. Регистрация и авторизация пользователей

Реализация JWT-авторизации.

Методы:

POST /auth/register — создание учётной записи.

POST /auth/login — получение токена доступа.

GET /auth/profile — получение данных пользователя.

2.2. Работа с задачами генерации 3D-моделей

API должно поддерживать жизненный цикл задачи:

Создание задачи
POST /generate
Принимает:

изображение (или текстовый промпт)

параметры генерации

модель/режим

Получение статуса задачи
GET /generate/{task_id}

Получение результата генерации
GET /generate/{task_id}/result

Отмена задачи (если поддерживается)
POST /generate/{task_id}/cancel

2.3. Работа с файлами

Загрузка изображений и сохранение на сервере или в облаки (Cloud Storage/S3).

Выдача пользователю готового файла (3D-модель в .obj/.glb/.fbx).

Методы:

POST /upload

GET /files/{file_id}

2.4. Интеграция с ML-модулем

Backend должен связать фронт и ML-сервис:

Передавать ML-модулю входные данные.

Принимать ответ: статус, промежуточный прогресс, итоговую модель.

Поддерживать асинхронную обработку (Celery, RabbitMQ, Redis — по выбору).

3. Нефункциональные требования
3.1. Производительность

API должен выдерживать не менее 50 параллельных запросов.

Генерация тяжелая → backend работает асинхронно.

3.2. Масштабируемость

Поддержка контейнеризации (Docker).

Возможность горизонтального масштабирования.

3.3. Безопасность

JWT-авторизация

Проверка входных данных

Ограничение размера файлов

CORS-политика

4. Архитектура Backend
Технологии:

Python + FastAPI (или Django REST, если требуется)

Celery + Redis для фоновых задач

PostgreSQL как основная БД

S3-совместимое хранилище для файлов (minio или облако)

Структура модулей:

/auth — авторизация

/generate — логика 3D-генерации

/files — работа с файлами

/models — ORM-модели

/services — интеграция с ML

5. Тестирование

Обязательные тесты:

unit-тесты эндпойнтов (PyTest)

тесты авторизации

тесты обработки файлов

тестирование асинхронной очереди задач

мок-тесты для ML-модуля

6. Результат выполнения задачи

Backend API, включающий:

рабочие эндпойнты авторизации

систему создания задач генерации

связь с ML-модулем

сохранение и выдачу файлов

документацию OpenAPI (автоматически создаёт FastAPI)

Dockerfile и docker-compose

набор тестов

7. Ожидаемые артефакты

/backend/ — код сервера

api_spec.yaml или /docs

Docker-окружение

Тесты в /tests

Инструкция запускаТЗ — Реализация Backend API
1. Цель

Создать серверную часть приложения, обеспечивающую приём, обработку и выдачу данных, необходимых для работы системы генерации 3D-моделей. API должно быть безопасным, масштабируемым и интегрированным с ML-сервисом генерации.

2. Функциональные требования
2.1. Регистрация и авторизация пользователей

Реализация JWT-авторизации.

Методы:

POST /auth/register — создание учётной записи.

POST /auth/login — получение токена доступа.

GET /auth/profile — получение данных пользователя.

2.2. Работа с задачами генерации 3D-моделей

API должно поддерживать жизненный цикл задачи:

Создание задачи
POST /generate
Принимает:

изображение (или текстовый промпт)

параметры генерации

модель/режим

Получение статуса задачи
GET /generate/{task_id}

Получение результата генерации
GET /generate/{task_id}/result

Отмена задачи (если поддерживается)
POST /generate/{task_id}/cancel

2.3. Работа с файлами

Загрузка изображений и сохранение на сервере или в облаки (Cloud Storage/S3).

Выдача пользователю готового файла (3D-модель в .obj/.glb/.fbx).

Методы:

POST /upload

GET /files/{file_id}

2.4. Интеграция с ML-модулем

Backend должен связать фронт и ML-сервис:

Передавать ML-модулю входные данные.

Принимать ответ: статус, промежуточный прогресс, итоговую модель.

Поддерживать асинхронную обработку (Celery, RabbitMQ, Redis — по выбору).

3. Нефункциональные требования
3.1. Производительность

API должен выдерживать не менее 50 параллельных запросов.

Генерация тяжелая → backend работает асинхронно.

3.2. Масштабируемость

Поддержка контейнеризации (Docker).

Возможность горизонтального масштабирования.

3.3. Безопасность

JWT-авторизация

Проверка входных данных

Ограничение размера файлов

CORS-политика

4. Архитектура Backend
Технологии:

Python + FastAPI (или Django REST, если требуется)

Celery + Redis для фоновых задач

PostgreSQL как основная БД

S3-совместимое хранилище для файлов (minio или облако)

Структура модулей:

/auth — авторизация

/generate — логика 3D-генерации

/files — работа с файлами

/models — ORM-модели

/services — интеграция с ML

5. Тестирование

Обязательные тесты:

unit-тесты эндпойнтов (PyTest)

тесты авторизации

тесты обработки файлов

тестирование асинхронной очереди задач

мок-тесты для ML-модуля

6. Результат выполнения задачи

Backend API, включающий:

рабочие эндпойнты авторизации

систему создания задач генерации

связь с ML-модулем

сохранение и выдачу файлов

документацию OpenAPI (автоматически создаёт FastAPI)

Dockerfile и docker-compose

набор тестов

7. Ожидаемые артефакты

/backend/ — код сервера

api_spec.yaml или /docs

Docker-окружение

Тесты в /tests

Инструкция запуска
