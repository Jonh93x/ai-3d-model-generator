Техническое задание — Реализация Backend API
1. Цель

Создать серверную часть приложения, обеспечивающую приём, обработку и выдачу данных, необходимых для работы системы генерации 3D-моделей. Backend API должно быть:

безопасным,

масштабируемым,

интегрированным с ML-сервисом генерации,

поддерживать асинхронную работу.

2. Функциональные требования
2.1. Регистрация и авторизация пользователей

Реализовать JWT-авторизацию.

Методы:

POST /auth/register — создание учётной записи

POST /auth/login — получение JWT-токена

GET /auth/profile — получение информации о пользователе

2.2. Логика работы с задачами генерации 3D-моделей

API должно поддерживать полный жизненный цикл задачи генерации.

Создание задачи

POST /generate
Принимает:

изображение или текстовый промпт,

параметры генерации,

режим/модель генерации.

Получение статуса

GET /generate/{task_id}

Получение результата

GET /generate/{task_id}/result

Отмена задачи (если реализована)

POST /generate/{task_id}/cancel

2.3. Работа с файлами

Поддержка загрузки и выдачи файлов (изображения и 3D-модели).

Функции:

загрузка изображений → сервер/облако (S3/MinIO),

выдача готовых моделей (.obj, .glb, .fbx).

Методы:

POST /upload

GET /files/{file_id}

2.4. Интеграция с ML-модулем

Backend должен обеспечивать взаимодействие между фронтендом и ML-сервисом:

передавать ML-модели входные данные,

получать статус и прогресс обработки,

принимать итоговую 3D-модель,

поддерживать асинхронную очередь задач (Celery, RabbitMQ, Redis).

3. Нефункциональные требования
3.1. Производительность

Поддержка 50+ параллельных запросов.

Генерация — асинхронная.

3.2. Масштабируемость

Docker-контейнеризация,

возможность горизонтального масштабирования.

3.3. Безопасность

JWT-авторизация,

валидация входных данных,

ограничение размера файлов,

корректная CORS-политика.

4. Архитектура Backend
Используемые технологии

Python + FastAPI (либо Django REST Framework),

Celery + Redis — для фоновых задач,

PostgreSQL — основная БД,

S3-совместимое хранилище (MinIO или облако).

Структура модулей
/auth       — авторизация
/generate   — логика генерации 3D-моделей
/files      — работа с файлами
/models     — ORM-модели
/services   — интеграция с ML-модулем

5. Тестирование

Обязательные тесты:

unit-тесты всех эндпойнтов (PyTest),

тесты авторизации,

тесты загрузки/выдачи файлов,

тестирование асинхронной очереди задач,

мок-тесты взаимодействия с ML-модулем.

6. Результат выполнения задачи

Готовый Backend API, включающий:

все реализованные эндпойнты,

систему постановки и обработки задач генерации,

интеграцию с ML-сервисом,

сохранение и отдачу файлов,

автоматическую документацию OpenAPI,

Dockerfile + docker-compose,

набор тестов.

7. Ожидаемые артефакты в репозитории
/backend/           — исходный код сервера
/docs/api_spec.yaml — спецификация API
/docker/            — Docker-окружение
/tests/             — тесты
README.md           — инструкция по запуску
